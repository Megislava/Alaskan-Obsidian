#networking

1. ### SMB
- Server Message Block Protocol
	- client-server communication protocol used for sharing access to files, printers, serial ports and other resources on a network
	- response-request protocol
	- by default runs on 139/445
- Samba
	- SMP support tool, runs on Unix
- [[nmap]] on which port is it running
- enumerate with [[enum4linux]]
- exploit with [[SMBClient]]

2. ### Telnet
- deprecated application protocol ~ no encrytion
- connect to server using telnet client and execute commands
- replaced by SSH
- `telnet [IP] [port]`
- enumerate with [[nmap]]
- find out the possible username with scanning for more info
- get reverse shell and play


3. ### FTP
- File Transfer Protocol
	- allow remote transfer of files over a network
	- standart port :21
	- client-server model
	- 2 channels:
		- command channel
		- data channel
	- supports Active and Passive connections
	- many variants: vsftpd
- enumerate for FTP with [[nmap]]
- connect with: `ftp [IP]`
- to find out possible username try enumerating more or:
- use [[Hydra]] to break the username and password combo


4. ### NFS
- Network File System
	- allows a system to share directories and files with others over the network
	- it does it by mounting all/portion of file system on a server
	- the mounted bit can be then accessed by clients with whatever privileges
	- then it can be mounted on a clients local directory
- enumerate with [[NFS-Common]] and [[nmap]]
- mount with [[mount]]
- exploit, escalate privileged etc


5. ### SMTP
- Simple Mail Transfer Protocol
	- handling the sending of emails
	- protocol pair is required: SMTP + POP/IMAP
	- 3 basic functions:	
		- verifies who is sending emails through SMTP server
		- sends outgoing mail
		- if the outgoing mail cannot be delivered it sends the message back to sender
	- steps:
		1. SMTP handshake
		2. client submits senders and recipient's email address, the body of email and attachements to the server
		3.  the SMTP server checks whether the domain name of the recipient and the sender is the same
		4.  SMTP server connects to the recipient's SMTP server before relaying the email, if the server cannot be accessed/isn't available the email gets put into SMTP queue
		5.  recipient's SMTP server verifies the incomming email, if the domain and user name has been recongnized the server forwards the mail to the POP/IMAP server
		6.  the email will show up in the recipient's inbox
- POP + IMAP: both responsible for the transfer of email between client and mail server
- POP = Post Office Protocol
	- download the inbox from mail server to the client
- IMAP = Internet Message Access Protocol
	- synchronize the current inbox with new mail on the server, downloading anything new
- enumerate with smtp_version (auxiliary/scanner/smtp/smtp_version) and smtp_enum (auxiliary/scanner/smtp/smtp_enum) modules of [[Tools/Metasploit]]
- bruteforce the password with [[Hydra]]
- play

6. ### MySQL
- relational database management system (RDBMS) based on Structured Query Language (SQL)
	- database: persistent, organized collection of structured data
	- RDBMS: SW used to creat and manage DB based on relational model 
		- relational: data stored in the dataset is organized as tables
- made up of the server and utility programs
- the server handles all DB instructions (creating, editing and accessing data)
	1. MySQL creates a DB for storing and manipulating data, defining the relationship of each table
	2. clients make requsts by making specific statements in SQL
	3. the server will respond to the client with whatever information has been requested
- `sudo apt install mysql` - installs the MySQL client
- find out if the service is running with [[nmap]]
- connect with `mysql -h [IP] -u [username] -p` to check if the creds are working
- exploit with module mysql_sql of [[Tools/Metasploit]]
- get the schema with module mysql_schemadump (auxiliary/scanner/mysql/mysql_schemadump) of [[Tools/Metasploit]]
- dump the DB with mysql_hashdump (auxiliary/scanner/mysql/mysql_hashdump) of [[Tools/Metasploit]]
- play